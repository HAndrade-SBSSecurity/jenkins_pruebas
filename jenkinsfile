pipeline {
    agent {
        label 'WindowsAgent'
    }
    triggers {
        cron('31 * * * *') // Se ejecuta cada hora en el minuto 27
    }
    stages {
        stage('Son las 12 hrs "do"') {
            when {
                expression {
                    return new Date().format("HH").toInteger() >= 12 // Se ejecuta a las 12:00 horas
                }
            }
            steps {
                script {
                    bat 'python do.py'
                }
            }
        }
        stage('Son las 11 hrs "to do"') {
            when {
                expression {
                    return new Date().format("HH").toInteger() <= 11 // Se ejecuta a las 11:00 horas
                }
            }
            steps {
                script {
                    bat 'python to_do.py'
                }
            }
        }
    }
}